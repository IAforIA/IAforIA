üî¥ ERROS CR√çTICOS (Impedem funcionamento)
1. Vite Configuration - Plugin Deprecated (ERRO PRINCIPAL)
Arquivo: vite.config.ts linha 2
Problema: Usa @vitejs/plugin-react-refresh que √© deprecated e incompat√≠vel com Vite 5
Erros resultantes no browser:
"The requested module '@vitejs/client' does not provide an export named 'createHotContext'"
"The requested module '@react-refresh' does not provide an export named 'default'"
Causa raiz: O Vite 5 n√£o suporta mais as APIs legadas de HMR (Hot Module Replacement) deste plugin
Impacto: Aplica√ß√£o n√£o carrega no browser - erro fatal na inicializa√ß√£o
Solu√ß√£o necess√°ria: Substituir por @vitejs/plugin-react ou @vitejs/plugin-react-swc
2. JWT_SECRET n√£o definido
Arquivo: server/routes.ts linha 12
Problema: C√≥digo lan√ßa erro se JWT_SECRET n√£o estiver definido nas vari√°veis de ambiente
Impacto: Server crasheia ao iniciar se a vari√°vel n√£o existir
Solu√ß√£o necess√°ria: Definir JWT_SECRET no ambiente ou adicionar fallback para desenvolvimento
3. Token n√£o enviado nas requisi√ß√µes autenticadas
Arquivo: client/src/lib/queryClient.ts linha 38
Problema: A fun√ß√£o getQueryFn (usada por queries GET) N√ÉO envia o token no header Authorization
Impacto: Todas as rotas protegidas retornam 401 - dashboards inacess√≠veis
Compara√ß√£o: apiRequest (linha 15) envia corretamente, mas s√≥ √© usado em mutations
Solu√ß√£o necess√°ria: Adicionar token no header da fun√ß√£o getQueryFn
üü° ERROS GRAVES (Funcionalidade quebrada)
4. Fun√ß√£o de localiza√ß√£o n√£o implementada
Arquivo: server/storage.ts (presumido)
Problema: storage.getLatestMotoboyLocations √© apenas um stub/placeholder
Impacto: Mapas de rastreamento retornar√£o vazios, funcionalidade de GPS n√£o funciona
Solu√ß√£o necess√°ria: Implementar query real ao banco motoboyLocations
5. Colunas Decimal retornam como string
Arquivos: shared/schema.ts - v√°rias tabelas usam decimal()
Problema: PostgreSQL/Drizzle retorna valores decimal como strings, n√£o n√∫meros
Colunas afetadas: valor, taxaMotoboy, trocoValor, taxaPadrao, latitude, longitude
Impacto: Opera√ß√µes matem√°ticas falhar√£o, formata√ß√£o de moeda pode quebrar
Exemplo: order.valor + order.taxaMotoboy resultar√° em concatena√ß√£o de strings
Solu√ß√£o necess√°ria: Converter strings para n√∫meros onde houver c√°lculos/formata√ß√£o
6. Package.json cont√©m plugin deprecated
Arquivo: package.json linha 97
Problema: @vitejs/plugin-react-refresh listado como devDependency
Impacto: Perpetua o uso do plugin incompat√≠vel
Solu√ß√£o necess√°ria: Remover e substituir por @vitejs/plugin-react
üü† ERROS MODERADOS (Problemas de UX/Design)
7. Vari√°veis CSS "red" como placeholder (N√ÉO ENCONTRADO mas mencionado pelo architect)
Arquivo: client/src/index.css
Status: Verifica√ß√£o: Ao examinar o arquivo, as cores parecem estar corretas (HSL v√°lidos), MAS o architect mencionou placeholders red
Impacto potencial: Se existirem, tema visual quebrado/ileg√≠vel
A√ß√£o necess√°ria: Revisar se h√° algum red remanescente no arquivo completo
üîµ AVISOS E MELHORIAS (N√£o bloqueiam, mas problem√°ticos)
8. Token armazenado no localStorage (Vulnerabilidade XSS)
Arquivos: client/src/App.tsx linha 102, 135
Problema: Token JWT armazenado no localStorage √© vulner√°vel a ataques XSS
Nota: C√≥digo j√° tem coment√°rio reconhecendo isto (linha 117-118)
Impacto: Se houver vulnerabilidade XSS, token pode ser roubado
Solu√ß√£o ideal: Usar HttpOnly cookies (requer mudan√ßa backend)
9. PostCSS Warning
Logs: "A PostCSS plugin did not pass the from option to postcss.parse"
Impacto: Aviso inofensivo, mas pode indicar configura√ß√£o sub√≥tima
Causa: Provavelmente relacionado ao Tailwind CSS
Solu√ß√£o: Verificar postcss.config.js
10. M√∫ltiplos "Invalid token from query parameter"
Logs do servidor: 8 ocorr√™ncias consecutivas
Causa: WebSocket tentando conectar sem token v√°lido
Impacto: Conex√µes rejeitadas, mas n√£o cr√≠tico
Solu√ß√£o: Garantir que frontend sempre envie token ao conectar WebSocket
üìä RESUMO EXECUTIVO
Total de erros encontrados: 10

Prioridade de corre√ß√£o:

üî¥ Cr√≠tico #1 - Trocar plugin do Vite (bloqueia aplica√ß√£o)
üî¥ Cr√≠tico #2 - Definir JWT_SECRET (bloqueia servidor)
üî¥ Cr√≠tico #3 - Adicionar token em queries GET (bloqueia acesso)
üü° Grave #5 - Converter decimais para n√∫meros (bugs de c√°lculo)
üü° Grave #4 - Implementar getLatestMotoboyLocations (GPS n√£o funciona)
Estado atual da aplica√ß√£o:

‚ùå Frontend n√£o carrega (erro de Vite)
‚ùå Rotas protegidas inacess√≠veis (token n√£o enviado)
‚ö†Ô∏è Backend roda mas pode crashar (JWT_SECRET)
‚ö†Ô∏è Rastreamento GPS n√£o funcional (stub)