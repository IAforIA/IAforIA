<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Captura de Erros - Guriri Express</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #000; color: #0f0; }
        .error { background: #300; color: #f00; padding: 10px; margin: 10px 0; border: 1px solid #f00; }
        .info { background: #030; color: #0f0; padding: 10px; margin: 10px 0; border: 1px solid #0f0; }
        h1 { color: #0ff; }
    </style>
</head>
<body>
    <h1>üîç CAPTURADOR DE ERROS</h1>
    <div id="output"></div>

    <script>
        const output = document.getElementById('output');
        
        function log(msg, isError = false) {
            const div = document.createElement('div');
            div.className = isError ? 'error' : 'info';
            div.textContent = new Date().toLocaleTimeString() + ' - ' + msg;
            output.appendChild(div);
        }

        log('‚úÖ P√°gina HTML carregada');
        log('‚úÖ JavaScript b√°sico funcionando');

        // Capturar TODOS os erros
        window.addEventListener('error', function(e) {
            log('‚ùå ERRO: ' + e.message + ' em ' + e.filename + ':' + e.lineno, true);
        });

        window.addEventListener('unhandledrejection', function(e) {
            log('‚ùå PROMISE REJEITADA: ' + e.reason, true);
        });

        log('Tentando carregar o React App...');

        // Tentar carregar o main.tsx
        const script = document.createElement('script');
        script.type = 'module';
        script.src = '/src/main.tsx';
        script.onload = function() {
            log('‚úÖ main.tsx carregado com sucesso!');
        };
        script.onerror = function(e) {
            log('‚ùå ERRO AO CARREGAR main.tsx: ' + e, true);
        };
        document.body.appendChild(script);

        log('Script adicionado √† p√°gina. Aguardando carregamento...');
        
        // Ap√≥s 3 segundos, mostrar diagn√≥stico final
        setTimeout(function() {
            log('------- DIAGN√ìSTICO AP√ìS 3 SEGUNDOS -------');
            log('Root element exists: ' + (document.getElementById('root') ? 'SIM' : 'N√ÉO'));
            log('Root has content: ' + (document.getElementById('root')?.innerHTML ? 'SIM' : 'N√ÉO'));
        }, 3000);
    </script>

    <div id="root"></div>
</body>
</html>
